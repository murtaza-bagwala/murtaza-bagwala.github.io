{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/amazon-personalize","result":{"data":{"markdownRemark":{"id":"11c32ec6-732d-5584-abd5-8cd8fe6f1015","html":"<p>As consumers become more\nand more habituated with dynamic experiences for products they use,\nthe best way to meet this demand is by using data to ensure hyper-personalized experiences.\nIncorporating personalization\nand recommendations are ways\nto build strong customer relationships\nand yield robust consumer insights. Despite the advantages,\nadopting machine learning may get difficult\nand time-consuming without appropriate results. </p>\n<p>In this post, we will discuss how Amazon Personalize\ncan improve customer experience\nand how we implemented the same in one of the applications. </p>\n<h3 id=\"what-is-amazon-personalize\" style=\"position:relative;\"><a href=\"#what-is-amazon-personalize\" aria-label=\"what is amazon personalize permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is Amazon Personalize?</h3>\n<p>Amazon Personalize is a wholly managed,\nmachine learning (ML) based system that allows\nreal-time personalization and recommendations.\nIt democratizes machine learning development\nby using the same technology used at Amazon.com,\nthereby, ensuring a more seamless experience. </p>\n<h3 id=\"what-can-you-do-with-amazon-personalize\" style=\"position:relative;\"><a href=\"#what-can-you-do-with-amazon-personalize\" aria-label=\"what can you do with amazon personalize permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What can you do with Amazon Personalize?</h3>\n<ul>\n<li>Personalized, AI-backed consumer experience\nwithout ML proficiency</li>\n<li>Provide personalized recommendations\nto consumers based on their purchase behavior.</li>\n<li>Solve problems like cold starts\nand address popularity biases.</li>\n<li>Enhance user intent.</li>\n<li>Create custom marketing campaigns,\noffers, and tailored results for consumers\nImprove conversion rate\nby deploying real-time user activity data. </li>\n<li>Accurate recommendations.</li>\n</ul>\n<h4 id=\"step-1-data-preparation--loading-data\" style=\"position:relative;\"><a href=\"#step-1-data-preparation--loading-data\" aria-label=\"step 1 data preparation  loading data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Data Preparation &#x26; Loading Data</h4>\n<p><strong><em>Note:</em></strong> We built an application that shows news articles to users\nand we used Amazon Personalize as a recommendation engine to show\nsimilar news articles based on the current article.</p>\n<p>So, to begin with we need to select an algorithm\nthat fits into our usecase, our usecase is to show the similar articles\nto the user based on the selected article and Personalize offers\nvarious <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/working-with-predefined-recipes.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">algorithms</a>\nbased on common use cases so, we chose\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/native-recipe-similar-items.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">similar-items</a> algorithm.</p>\n<p>Now, an algorithm to work Personalize requires datasets.\nThere are three types of datasets:</p>\n<ul>\n<li>Users:– This dataset stores metadata about your users.\nThis might include information such as age, gender</li>\n<li>Items:– This dataset stores metadata about your items.\nThis might include information such as price, categories.</li>\n<li>Interactions:– This dataset stores historical\nand real-time data from interactions between users and items</li>\n</ul>\n<p>In our case, Users were <strong>application users</strong>, Items were <strong>articles</strong> and\nInteractions were the <strong>activities</strong> like (User viewed/liked particular article)</p>\n<p>But for the <code class=\"language-text\">similar-items</code> algorithm we only need <strong>article</strong> dataset\nand very limited <strong>interaction</strong> dataset with a minimum of 1000 unique interactions.</p>\n<p>Before creating a dataset we need to create a\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/data-prep-ds-group.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dataset Group</a>\nA dataset group is a container for all the Personalize components\nand <a href=\"https://docs.aws.amazon.com/personalize/latest/dg/data-prep-creating-datasets.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dataset Schema</a>\nA schema tells Personalize about the structure of your data and allows Amazon Personalize to parse the data.</p>\n<p><code class=\"language-text\">similar-items</code> algorithm uses item’s metadata to calculate the similarity between the two items\nfor example:- in our case article has some labels (Sports, Entertainment, Pandemic, etc) associated with it\nand we can add labels as metadata for the articles in a schema.</p>\n<p>This is how our JSON schema would look like:- </p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">Items Schema\n\n   <span class=\"token punctuation\">{</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"record\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"ITEMS\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"namespace\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"com.seeeff.personalize.schema\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"fields\"</span></span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"ITEM_ID\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"string\"</span></span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"LABELS\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n               <span class=\"token string-literal\"><span class=\"token string\">\"null\"</span></span><span class=\"token punctuation\">,</span>\n               <span class=\"token string-literal\"><span class=\"token string\">\"string\"</span></span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"categorical\"</span></span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"CREATION_TIMESTAMP\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"long\"</span></span>\n         <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"version\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"1.0\"</span></span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">Interactions Schema\n\n   <span class=\"token punctuation\">{</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"record\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Interactions\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"namespace\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"com.amazonaws.personalize.schema\"</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"fields\"</span></span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"USER_ID\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"string\"</span></span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"ITEM_ID\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"string\"</span></span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"name\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"TIMESTAMP\"</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-literal\"><span class=\"token string\">\"type\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"long\"</span></span>\n         <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-literal\"><span class=\"token string\">\"version\"</span></span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"1.0\"</span></span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Once a schema is created we need to feed these datasets to Personalize,\nwe need to create a CSV for each of these datasets\n(which will have the same columns\nand the order in which specified in the schema)\nand upload it to the S3 bucket.</p>\n<p>The below are sample CSV datasets of the article\nand user-article interactions to be imported to Personalize:- </p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">   <span class=\"token constant\">ITEM_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">LABELS</span><span class=\"token punctuation\">,</span><span class=\"token constant\">CREATION_TIMESTAMP</span>\n   <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token constant\">SPORTS</span><span class=\"token operator\">|</span><span class=\"token constant\">SCIENCE</span><span class=\"token operator\">|</span><span class=\"token constant\">INTERNATIONAL</span><span class=\"token punctuation\">,</span><span class=\"token number\">1570003267</span>\n   <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token constant\">ENTERTAINMENT</span><span class=\"token operator\">|</span><span class=\"token constant\">LIFESTYLE</span><span class=\"token operator\">|</span><span class=\"token punctuation\">,</span><span class=\"token number\">1571730101</span>\n   <span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token constant\">COVID</span><span class=\"token operator\">|</span><span class=\"token constant\">ECONOMICS</span><span class=\"token operator\">|</span><span class=\"token constant\">SPORTS</span><span class=\"token punctuation\">,</span><span class=\"token number\">1560515629</span>\n   <span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token constant\">POLITICS</span><span class=\"token operator\">|</span><span class=\"token constant\">EDUCATION</span><span class=\"token operator\">|</span><span class=\"token constant\">TECHNOLOGY</span><span class=\"token punctuation\">,</span><span class=\"token number\">1581670067</span>\n   <span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token constant\">USA</span><span class=\"token operator\">|</span><span class=\"token constant\">GENERAL</span><span class=\"token operator\">|</span><span class=\"token constant\">HEALTH</span><span class=\"token punctuation\">,</span><span class=\"token number\">1581670067</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">   <span class=\"token constant\">USER_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">ITEM_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">TIMESTAMP</span>\n   <span class=\"token number\">35</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1586731606</span>\n   <span class=\"token number\">54</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1586735164</span>\n   <span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">1586735158</span>\n   <span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1586735697</span>\n   <span class=\"token number\">27</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1586735763</span></code></pre></div>\n<p>Now, once the files are added to the S3 bucket,\nwe need to create a <strong>Dataset Import Job</strong>.\nIt is a bulk import tool that populates your dataset with data from your S3 bucket.\nWe can create a dataset import job and import bulk records using the\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/bulk-data-import-step.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Personalize console</a>.</p>\n<h4 id=\"step-2-create-a-solution\" style=\"position:relative;\"><a href=\"#step-2-create-a-solution\" aria-label=\"step 2 create a solution permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Create a Solution</h4>\n<p>After we finish preparing and importing data,\nwe are ready to create a <strong>Solution</strong>.\nA Solution refers to the combination of Personalize algorithm\nand solution versions (trained models).</p>\n<p>To create a solution in Amazon Personalize, we need to do the following:</p>\n<p>Choose a recipe – choosing a <code class=\"language-text\">similar-items</code> algorithm from the dropdown.</p>\n<p>We can create a solution using the\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/customizing-solution-config.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Personalize console</a>.</p>\n<p><img src=\"/amazon-personalize/create-solution.png\" alt=\"alt\"></p>\n<h4 id=\"step-3-create-a-solution-version\" style=\"position:relative;\"><a href=\"#step-3-create-a-solution-version\" aria-label=\"step 3 create a solution version permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Create a Solution Version</h4>\n<p>After we complete configuring a solution, we are ready to create a solution version.</p>\n<p>A solution version refers to a trained machine learning model we can deploy to get recommendations.\nWe can create a solution version using the\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/creating-a-solution-version.html#create-solution-version-console\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Personalize console</a>.</p>\n<h4 id=\"step-4-create-a-campaign\" style=\"position:relative;\"><a href=\"#step-4-create-a-campaign\" aria-label=\"step 4 create a campaign permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Create a Campaign</h4>\n<p>With Amazon Personalize, we can get recommendations in real-time\nor we can get batch recommendations.\nFor real-time recommendations, we must create a campaign.\nFor batch recommendations, we need to create a batch inference job.\nA batch inference job is a tool that asynchronously imports our batch input data from an Amazon S3 bucket,\nuses the solution version to generate item recommendations, and then exports the recommendations to an Amazon S3 bucket.\nIn our case, we used real-time recommendations.</p>\n<p>A campaign is a deployed solution version (trained model).\nAfter we create a campaign, we can use the <code class=\"language-text\">GetRecommendations</code> API to get recommendations.\nWe can create a campaign using the\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/campaigns.html#create-campaign-console\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Personalize console</a>.</p>\n<p><img src=\"/amazon-personalize/create-campaign.png\" alt=\"alt\"></p>\n<h4 id=\"step-4-fetch-recommendations\" style=\"position:relative;\"><a href=\"#step-4-fetch-recommendations\" aria-label=\"step 4 fetch recommendations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Fetch Recommendations</h4>\n<p>The final step is to fetch the recommendations so, either we can use\n<a href=\"https://docs.aws.amazon.com/personalize/latest/dg/campaigns.html#create-campaign-console\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Amazon Personalize console</a>.\nHere, we can pass the itemId/articleId to fetch the recommendations\nand it will return the list of ids of similar articles.</p>\n<p><img src=\"/amazon-personalize/get-recommendations.png\" alt=\"alt\"></p>\n<p>or we can use <code class=\"language-text\">personalize-sdk</code> to fetch the recommendations</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">   runtime_client<span class=\"token punctuation\">.</span>get_recommendations<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token symbol\">campaign_arn</span><span class=\"token operator\">:</span> campaign_arn<span class=\"token punctuation\">,</span> <span class=\"token comment\"># Campaign ARN can be copied from campaign details</span>\n      <span class=\"token symbol\">item_id</span><span class=\"token operator\">:</span> item_id<span class=\"token punctuation\">,</span> <span class=\"token comment\"># articleId for which we need to fetch the recommendations</span>\n      <span class=\"token symbol\">num_results</span><span class=\"token operator\">:</span> <span class=\"token number\">25</span> <span class=\"token comment\"># no of items need to be fetched</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"underlying-architecture\" style=\"position:relative;\"><a href=\"#underlying-architecture\" aria-label=\"underlying architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Underlying Architecture</h3>\n<p>This is how our architecture looks like,\nwe used historical data to create a solution version initially.\nThen, created a <strong>DataSeederJob</strong> to seed new or updated articles to personalize.</p>\n<p>Also, we created a biweekly <strong>RecommendationFetcher</strong> Job which fetches the recommendations\nfor each of the articles and stores them in the Redis which get served to clients via API.</p>\n<p><img src=\"/amazon-personalize/personalize-reference-arch.png\" alt=\"alt\"></p>\n<h3 id=\"final-thoughts\" style=\"position:relative;\"><a href=\"#final-thoughts\" aria-label=\"final thoughts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Final Thoughts</h3>\n<p>In this blog, we talked about how we can\ncreate the most sought-after Recommendation System\nwithout ML expertise.\nThanks to Amazon Personalize that enabled us\nto implement the use-case quickly in a hassle-free manner.</p>","fields":{"slug":"/posts/amazon-personalize","tagSlugs":["/tag/aws/","/tag/recommendation-system/"]},"frontmatter":{"date":"2021-12-29T18:00:37.121Z","description":"A Step-By-Step Guide to Building a Recommender System using Amazon Personalize with its Similar-Items Recipe.","tags":["aws","recommendation system"],"title":"Using Amazon Personalize to create a Recommendation System","socialImage":null}}},"pageContext":{"slug":"/posts/amazon-personalize"}},"staticQueryHashes":["251939775","401334301","984292147"]}